<body>
  <div class="container" style="
    position: relative;
    margin-left: auto;
    margin-right: auto;
    background-color: rgb(255, 255, 255);
    border: 5px solid black;
    width: 400px;
    height: 260px;">

      <div id="ball" style="
      z-index:5;
      position:absolute;
      left:0px;
      top:0px;
      width:40px;
      height:40px;
      border-radius:50%;
      background: #1bce15"></div>

      <div id="bar" style="
      z-index:5;
      position:absolute;
      left:0px;
      top:0px;
      width:40px;
      height:16px;
      border-radius:3px;
      background: #aaaaaa"></div>
  </div>

  <script>

    var velocityX = 1;
    var positionX = 200;
    var velocityY = 2;
    var positionY = 100;
    var directionX = 1;
    var directionY = 1;
    var growing = true;
    var width = 35;
    var counter = 0;
    var maxSize = 70;
    var minSize = 40;
    var ball = document.getElementById('ball');
    var bar = document.getElementById('bar');
    ball.style.width = (width + "px");
    ball.style.height = (width + "px");
    bar.style.top = 220 + "px";


    //var colores = ["#0000aa", "#0000aa", "#0000aa", "#0000aa"];
    var colores = ["#ce1515", "#1bce15", "#0000aa", "#f1e31e"];
    // YOUR CODE 
    function movement(){    
      /////// Horizontal movement
      if (directionX === 1) {
        positionX = positionX + velocityX;
        ball.style.left = positionX + "px";
        bar.style.left = (positionX+(width-minSize)*0.5) + "px";
          if (positionX >= (400 - width)) {
              directionX = 0;
              ball.style.background = colores[0];
            };
      } else {
        positionX = positionX - velocityX;
        ball.style.left = positionX + "px";
        bar.style.left = (positionX+(width-minSize)*0.5) + "px";
          if (positionX <= 0) {
            directionX = 1;
            ball.style.background = colores[1];
          };
      };
      /////// Vertical movement
      if (directionY === 1) {
        positionY = positionY + velocityY;
        ball.style.top = positionY + "px";
          if (positionY >= (230 - width)) {
              directionY = 0;
              ball.style.background = colores[2];
            };
      } else {
        positionY = positionY - velocityY;
        ball.style.top = positionY + "px";
          if (positionY <= 0) {
            directionY = 1;
            ball.style.background = colores[3];
          };
      }
    };


    function changeSize() {
      if (growing) {
          width = width + 1;
          ball.style.width = (width + "px");
          ball.style.height = (width + "px");
          if (width >= maxSize) {
            growing = false;
            width = maxSize;
          }
      } else {
          width = width - 1;
          ball.style.width = (width + "px");
          ball.style.height = (width + "px");
          if (width <= minSize) {
            growing = true;
            width = minSize;    
          }   
      }
    }

    setInterval(movement, 1);
    setInterval(changeSize, 20);
        
  </script>
</body>
